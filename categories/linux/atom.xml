<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: linux | co.de.mon.key]]></title>
  <link href="http://blog.codemonkey.pl/categories/linux/atom.xml" rel="self"/>
  <link href="http://blog.codemonkey.pl/"/>
  <updated>2014-07-15T10:54:37+02:00</updated>
  <id>http://blog.codemonkey.pl/</id>
  <author>
    <name><![CDATA[malpka]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Own mailserver - Debian 7 Wheezy VPS - Part 1]]></title>
    <link href="http://blog.codemonkey.pl/2014/07/15/own-mailserver-debian-vps/"/>
    <updated>2014-07-15T07:47:59+02:00</updated>
    <id>http://blog.codemonkey.pl/2014/07/15/own-mailserver-debian-vps</id>
    <content type="html"><![CDATA[<h2>Check /set up machine&rsquo;s hostname</h2>

<p><code>bash
malpka@codemonkey:~/octopress$ hostname
codemonkey.pl
</code></p>

<h2>Set up DNS record</h2>

<p><code>
codemonkey.pl   IN MX   1   codemonkey.pl
.codemonkey.pl  SPF     v=spf1 a mx ~all
</code></p>

<h2>Check SMTP (25) port for outside availability</h2>

<h2>Install postfix</h2>

<p><code>
apt-get install postfix
</code></p>

<p><img class="<a" src="href="https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-1.png">https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-1.png</a>"></p>

<p><img class="<a" src="href="https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-2.png">https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-2.png</a>"></p>

<p><img class="<a" src="href="https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-3.png">https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-3.png</a>"></p>

<p>Check if we have access to <code>mail</code> command</p>

<p><code>
apt-get install mailutils
</code></p>

<p>and send the mail</p>

<p><img class="<a" src="href="https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-4.png">https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/postfix-install-4.png</a>"></p>

<p>Mail received, post reply</p>

<p><img class="<a" src="href="https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/first-mail-received.png">https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/first-mail-received.png</a>"></p>

<p>After posting the reply</p>

<p><img class="<a" src="href="https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/first-reply-received.png">https://dl.dropboxusercontent.com/u/119311219/blog.codemonkey.pl/images/mailserver/first-reply-received.png</a>"></p>

<h2>Configure mail aliases</h2>

<p>``` bash
codemonkey:/home/malpka# cat /etc/aliases</p>

<h1>/etc/aliases</h1>

<p>mailer-daemon: postmaster
postmaster: root
nobody: root
hostmaster: root
usenet: root
<a href="news:">news:</a> root
webmaster: root
www: root
<a href="ftp:">ftp:</a> root
abuse: root
noc: root
security: root
root: malpka
```</p>

<h2>Remarks</h2>

<ul>
<li>SMTP not secured</li>
<li>works for any local user</li>
<li>uses /var/mail/{username} as a default mailbox location</li>
</ul>

]]></content>
  </entry>
  
</feed>
